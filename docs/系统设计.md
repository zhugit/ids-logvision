# 系统设计

## 1. 系统设计背景

随着服务器对外服务的增加，系统日志中包含了大量潜在的安全信息。  
如果仅依赖人工查看日志，难以及时发现攻击行为，尤其是高频、重复性的异常访问。

因此，本系统以日志为数据来源，尝试构建一个基础的实时入侵检测系统（IDS），通过对日志进行分析，识别潜在的攻击行为，并以告警形式进行展示。

当前实现内容为系统的**第一阶段设计与实现**，重点放在日志处理流程与基础检测能力上。

---

## 2. 系统整体设计思路

系统采用前后端分离的设计方式，后端负责日志接收、解析与检测逻辑，前端负责数据展示与交互。

整体设计遵循以下原则：

- 日志处理流程清晰，便于理解与调试；
- 检测逻辑与日志解析解耦，便于后续扩展；
- 支持实时数据流处理，而非离线分析；
- 设计上为后续增加新规则、新模块预留空间。

---

## 3. 系统功能模块划分

系统当前阶段主要包含以下功能模块：

- 日志采集模块
- 日志解析模块
- 行为检测模块
- 告警管理模块
- 前端展示模块

各模块之间通过明确的数据流进行连接，避免逻辑耦合。

---

## 4. 日志处理流程设计

系统日志处理流程如下：

1. 外部系统将日志发送至后端接口；
2. 后端接收原始日志并记录时间信息；
3. 日志进入解析模块进行格式识别与字段提取；
4. 解析后的事件数据进入检测模块；
5. 满足检测条件时生成告警信息；
6. 告警信息推送至前端进行展示。

该流程为系统的核心运行逻辑，后续新增功能均基于该流程进行扩展。

---

## 5. 技术选型说明

系统在第一阶段实现中采用如下技术：

- 后端框架：FastAPI
- 数据库存储：MySQL
- 流式数据处理：Redis Stream
- 前端框架：Vue 3
- 实时通信方式：WebSocket

相关技术选型主要服务于系统的实时性与可扩展性需求。
