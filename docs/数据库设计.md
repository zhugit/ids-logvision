# 数据库设计

## 1. 数据库存储设计说明

在系统第一阶段中，数据库主要用于存储两类数据：

- 系统接收到的原始日志数据；
- 系统检测生成的告警信息。

数据库设计以支持日志回溯、告警查询为目标，结构保持简洁，便于后续扩展字段或新增数据表。

---

## 2. 原始日志数据表设计

原始日志表用于存储系统接收到的完整日志内容。

| 字段名 | 类型 | 描述 |
|------|------|------|
| id | INT | 主键 |
| source | VARCHAR | 日志来源标识 |
| message | TEXT | 原始日志内容 |
| created_at | DATETIME | 日志接收时间 |

该表用于保存日志原始信息，不参与复杂计算，主要用于后续分析与回溯。

---

## 3. 告警信息表设计

告警表用于存储系统在检测过程中生成的安全告警信息。

| 字段名 | 类型 | 描述 |
|------|------|------|
| id | INT | 主键 |
| level | VARCHAR | 告警等级 |
| rule_name | VARCHAR | 命中规则名称 |
| src_ip | VARCHAR | 攻击源 IP |
| description | TEXT | 告警描述 |
| created_at | DATETIME | 告警生成时间 |

告警数据将作为前端展示和后续分析的重要依据。

---

## 4. 扩展设计考虑

当前数据库结构为第一阶段设计，后续可根据需求扩展：

- 增加事件表用于存储结构化解析结果；
- 增加规则配置表实现动态规则管理；
- 增加资产、主机等关联表。
